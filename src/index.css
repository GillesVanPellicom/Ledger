@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --primary-gradient: linear-gradient(
      to bottom,
      #b59cf8,
      #f5f2ff 48%,
      #b59cf8 68%,
      #8273a9 100%
    );
    --frost-gradient: repeating-linear-gradient(
      to right,
      rgba(255, 255, 255, 0.04) 0%,
      rgba(0, 0, 0, 0.39) 59%,
      rgba(255, 255, 255, 0.27) 100%
    );
    --color-accent: #007AFF; /* Default macOS Blue */
  }

  html {
    overflow: hidden;
  }

  body {
    @apply bg-background-light text-gray-900 dark:bg-background-dark dark:text-gray-100 transition-colors duration-200;
  }

  /* Modern Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-gutter-stable {
    scrollbar-gutter: stable;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-700 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-600;
  }

  /* Checkbox Accent */
  input[type="checkbox"] {
    @apply accent-accent h-4 w-4 rounded border-gray-300 text-accent focus:ring-accent;
  }

  /* Number Input Spinners */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    opacity: 1;
    cursor: pointer;
  }
}

@layer utilities {
  .text-inverted {
    @apply text-white mix-blend-difference;
  }
  .text-red {
    @apply text-red-500;
  }
  .text-green {
    @apply text-green-500;
  }
}

/* React Datepicker Overrides */
.react-datepicker-wrapper,
.react-datepicker__input-container {
  width: 100%;
  display: block;
}

/* Dark mode styles for react-datepicker */
.dark .react-datepicker {
  @apply bg-gray-800 border-gray-700;
}
.dark .react-datepicker__header {
  @apply bg-gray-900 border-b-gray-700;
}
.dark .react-datepicker__current-month,
.dark .react-datepicker-time__header,
.dark .react-datepicker-year-header {
  @apply text-gray-100;
}
.dark .react-datepicker__day-name,
.dark .react-datepicker__day,
.dark .react-datepicker__time-name {
  @apply text-gray-300;
}
.dark .react-datepicker__day:hover,
.dark .react-datepicker__month-text:hover,
.dark .react-datepicker__quarter-text:hover,
.dark .react-datepicker__year-text:hover {
  @apply bg-gray-700;
}
.dark .react-datepicker__day--selected,
.dark .react-datepicker__day--in-selecting-range,
.dark .react-datepicker__day--in-range,
.dark .react-datepicker__month-text--selected,
.dark .react-datepicker__month-text--in-selecting-range,
.dark .react-datepicker__month-text--in-range,
.dark .react-datepicker__quarter-text--selected,
.dark .react-datepicker__quarter-text--in-selecting-range,
.dark .react-datepicker__quarter-text--in-range,
.dark .react-datepicker__year-text--selected,
.dark .react-datepicker__year-text--in-selecting-range,
.dark .react-datepicker__year-text--in-range {
  @apply bg-accent text-white;
}
.dark .react-datepicker__day--keyboard-selected,
.dark .react-datepicker__month-text--keyboard-selected,
.dark .react-datepicker__quarter-text--keyboard-selected,
.dark .react-datepicker__year-text--keyboard-selected {
  @apply bg-accent-hover;
}
.dark .react-datepicker__day--disabled {
  @apply text-gray-600;
}
.dark .react-datepicker__navigation-icon::before {
  @apply border-gray-300;
}
.dark .react-datepicker__close-icon::after {
  @apply bg-gray-800 border-red-400 text-red-400;
}

/* Checkbox Wrapper 13 Styles */
@supports (-webkit-appearance: none) or (-moz-appearance: none) {
  .checkbox-wrapper-13 {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 21px !important;
    height: 21px !important;
    min-width: 21px !important;
    min-height: 21px !important;
  }
  .checkbox-wrapper-13 input[type=checkbox] {
    --active: var(--color-accent); /* Use CSS variable for accent color */
    --active-inner: #fff;
    --focus: 2px rgba(0, 122, 255, .3);
    --border: #BBC1E1;
    --border-hover: var(--color-accent);
    --background: transparent; /* Transparent background */
    --disabled: #F6F8FF;
    --disabled-inner: #E1E6F9;
    -webkit-appearance: none;
    -moz-appearance: none;
    height: 21px !important;
    width: 21px !important;
    min-width: 21px !important;
    min-height: 21px !important;
    outline: none;
    display: inline-block;
    vertical-align: top;
    position: relative;
    margin: 0;
    cursor: pointer;
    border: 1px solid var(--bc, var(--border));
    background: var(--b, var(--background));
    transition: background 0.3s, border-color 0.3s, box-shadow 0.2s;
    appearance: none; /* Ensure native appearance is removed */
  }
  .checkbox-wrapper-13 input[type=checkbox]:after {
    content: "";
    display: block;
    left: 0;
    top: 0;
    position: absolute;
    transition: transform var(--d-t, 0.3s) var(--d-t-e, ease), opacity var(--d-o, 0.2s);
  }
  .checkbox-wrapper-13 input[type=checkbox]:checked {
    --b: var(--active);
    --bc: var(--active);
    --d-o: .3s;
    --d-t: .6s;
    --d-t-e: cubic-bezier(.2, .85, .32, 1.2);
  }
  .checkbox-wrapper-13 input[type=checkbox]:disabled {
    --b: var(--disabled);
    cursor: not-allowed;
    opacity: 0.9;
  }
  .checkbox-wrapper-13 input[type=checkbox]:disabled:checked {
    --b: var(--disabled-inner);
    --bc: var(--border);
  }
  .checkbox-wrapper-13 input[type=checkbox]:disabled + label {
    cursor: not-allowed;
  }
  .checkbox-wrapper-13 input[type=checkbox]:hover:not(:checked):not(:disabled) {
    --bc: var(--border-hover);
  }
  .checkbox-wrapper-13 input[type=checkbox]:focus {
    box-shadow: 0 0 0 var(--focus);
  }
  .checkbox-wrapper-13 input[type=checkbox]:not(.switch) {
    width: 21px;
  }
  .checkbox-wrapper-13 input[type=checkbox]:not(.switch):after {
    opacity: var(--o, 0);
  }
  .checkbox-wrapper-13 input[type=checkbox]:not(.switch):checked {
    --o: 1;
  }
  .checkbox-wrapper-13 input[type=checkbox] + label {
    display: inline-block;
    vertical-align: middle;
    cursor: pointer;
    margin-left: 4px;
  }
}

.checkbox-wrapper-13 * {
  box-sizing: inherit;
}
.checkbox-wrapper-13 *:before,
.checkbox-wrapper-13 *:after {
  box-sizing: inherit;
}
